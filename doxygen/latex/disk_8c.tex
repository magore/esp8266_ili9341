\hypertarget{disk_8c}{}\section{fatfs/disk.c File Reference}
\label{disk_8c}\index{fatfs/disk.\+c@{fatfs/disk.\+c}}


Allocate, Free and display \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structurs, getfattime(), display error messages.  


{\ttfamily \#include $<$user\+\_\+config.\+h$>$}\\*
{\ttfamily \#include \char`\"{}ff.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}diskio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}posix.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} \hyperlink{send_8c_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t} \hyperlink{disk_8c_ae7b9417320aaaa1c1dfb229cad6669d8}{tm\+\_\+to\+\_\+fat} (\hyperlink{time_8h_a2fea857c30e2c901566fcf45fac68ac5}{tm\+\_\+t} $\ast$t)
\begin{DoxyCompactList}\small\item\em F\+AT time structer reference. \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} \hyperlink{integer_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD} \hyperlink{disk_8c_ae0f1746ad69d0d4b90cba250c6774ca8}{get\+\_\+fattime} (void)
\begin{DoxyCompactList}\small\item\em Read D\+S1307 R\+TC and convert to F\+A\+T32 time. \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{disk_8c_ab3509aecf1844c84f1797e5b567d531c}{put\+\_\+rc} (int rc)
\begin{DoxyCompactList}\small\item\em display Fat\+Fs return code as ascii string \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} $\ast$ \hyperlink{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{fatfs\+\_\+alloc\+\_\+finfo} (int allocate)
\begin{DoxyCompactList}\small\item\em Allocate \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure and optional long file name buffer. \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{disk_8c_a953a1accb59a09bcedf7bda2758ba433}{fatfs\+\_\+free\+\_\+filinfo} (\hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} $\ast$finfo)
\begin{DoxyCompactList}\small\item\em Free a \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure and optional long file name buffer allocated by \hyperlink{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{fatfs\+\_\+alloc\+\_\+finfo()} \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int \hyperlink{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{fatfs\+\_\+scan\+\_\+files} (char $\ast$path)
\begin{DoxyCompactList}\small\item\em Compute space used, number of directories and files contained under a specified directory. \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{disk_8c_ad7d2063fab39190a7288bfa7cb647b46}{fatfs\+\_\+status} (char $\ast$ptr)
\begin{DoxyCompactList}\small\item\em Compute space used, number of directories and files contained used by a drive. \end{DoxyCompactList}\item 
\hyperlink{user__config_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{disk_8c_a11c6644c2b989d1ac2492b30b80e4ead}{fatfs\+\_\+filinfo\+\_\+list} (\hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} $\ast$\hyperlink{network_8c_a1202cd63c360958e6272f9a20fa90f8b}{info})
\begin{DoxyCompactList}\small\item\em Display \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure in a readable format. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structFATFS}{F\+A\+T\+FS} \hyperlink{disk_8c_aae427cc909a4b5993032934d85fd8c31}{Fatfs} \mbox{[}\hyperlink{ffconf_8h_a366da9a40c8ceb3103a6b72ca02b9969}{\+\_\+\+V\+O\+L\+U\+M\+ES}\mbox{]}
\begin{DoxyCompactList}\small\item\em Fat\+Fs Drive Volumes. \end{DoxyCompactList}\item 
static char $\ast$ \hyperlink{disk_8c_a259efda6b8ac3181431ef38fa99d214c}{err\+\_\+msg} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Fat\+Fs Error Messages. \end{DoxyCompactList}\item 
\hyperlink{integer_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD} \hyperlink{disk_8c_a1e9c5ddcfdf89c9a42c96ee1d2196876}{Acc\+Size}
\begin{DoxyCompactList}\small\item\em Total file space used. \end{DoxyCompactList}\item 
\hyperlink{integer_8h_a197942eefa7db30960ae396d68339b97}{W\+O\+RD} \hyperlink{disk_8c_a8886578bc67fc71837328a1ee237d10c}{Acc\+Files}
\begin{DoxyCompactList}\small\item\em Total number or Files and Directories. \end{DoxyCompactList}\item 
\hyperlink{integer_8h_a197942eefa7db30960ae396d68339b97}{W\+O\+RD} \hyperlink{disk_8c_a4fb5ebb5ee82d1ddf3fdcf88329dd5d3}{Acc\+Dirs}
\item 
static \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} \hyperlink{disk_8c_a8483e9060691e7d2b6eb51ab947ab1a6}{\+\_\+\+\_\+finfo}
\begin{DoxyCompactList}\small\item\em Use were \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure can be share in many functions See\+: \hyperlink{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{fatfs\+\_\+alloc\+\_\+finfo()}, \hyperlink{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{fatfs\+\_\+scan\+\_\+files()} and \hyperlink{fatfs__utils_8c_a257bdc077fb2c1a5aeeb5c1f3c1c2157}{fatfs\+\_\+ls()} \end{DoxyCompactList}\item 
static char \hyperlink{disk_8c_aa16b6036e08026363b2b740e3d067f9e}{\+\_\+\+\_\+lfname} \mbox{[}\hyperlink{ffconf_8h_a14e73a5c703a586c614b3e40b849f82c}{\+\_\+\+M\+A\+X\+\_\+\+L\+FN}+1\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Allocate, Free and display \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structurs, getfattime(), display error messages. 

\begin{DoxyParagraph}{Copyright \copyright{} 2015 Mike Gore, G\+PL License}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2013 ChaN.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Credit\+: part of Fat\+Fs avr example project (C)ChaN, 2013.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{You are free to use this code under the terms of G\+PL}
please retain a copy of this notice in any code you use it in.
\end{DoxyParagraph}
This is free software\+: you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This software is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program. If not, see \href{http://www.gnu.org/licenses/}{\tt http\+://www.\+gnu.\+org/licenses/}. 

\subsection{Function Documentation}
\index{disk.\+c@{disk.\+c}!fatfs\+\_\+alloc\+\_\+finfo@{fatfs\+\_\+alloc\+\_\+finfo}}
\index{fatfs\+\_\+alloc\+\_\+finfo@{fatfs\+\_\+alloc\+\_\+finfo}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{fatfs\+\_\+alloc\+\_\+finfo(int allocate)}{fatfs_alloc_finfo(int allocate)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} {\bf F\+I\+L\+I\+N\+FO}$\ast$ fatfs\+\_\+alloc\+\_\+finfo (
\begin{DoxyParamCaption}
\item[{int}]{allocate}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{}\label{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}


Allocate \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure and optional long file name buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em allocate} & If allocate is true use calloc otherwise return static \+\_\+\+\_\+finfo \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
fatfs\+\_\+free\+\_\+finfo() 

\hyperlink{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{fatfs\+\_\+scan\+\_\+files()} 

\hyperlink{fatfs__utils_8c_a257bdc077fb2c1a5aeeb5c1f3c1c2157}{fatfs\+\_\+ls()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
\hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} $\ast$ on success 

N\+U\+LL on error 
\end{DoxyReturn}


Definition at line 170 of file disk.\+c.



Referenced by fatfs\+\_\+ls(), fatfs\+\_\+scan\+\_\+files(), fatfs\+\_\+stat(), and stat().

\index{disk.\+c@{disk.\+c}!fatfs\+\_\+filinfo\+\_\+list@{fatfs\+\_\+filinfo\+\_\+list}}
\index{fatfs\+\_\+filinfo\+\_\+list@{fatfs\+\_\+filinfo\+\_\+list}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{fatfs\+\_\+filinfo\+\_\+list(\+F\+I\+L\+I\+N\+F\+O $\ast$info)}{fatfs_filinfo_list(FILINFO *info)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} void fatfs\+\_\+filinfo\+\_\+list (
\begin{DoxyParamCaption}
\item[{{\bf F\+I\+L\+I\+N\+FO} $\ast$}]{info}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_a11c6644c2b989d1ac2492b30b80e4ead}{}\label{disk_8c_a11c6644c2b989d1ac2492b30b80e4ead}


Display \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure in a readable format. 


\begin{DoxyItemize}
\item Credit\+: part of Fat\+Fs avr example project (C)ChaN, 2013.
\item Example\+: \begin{DoxyVerb}/// ----A 2014/10/16 00:39        14    test2.txt  
/// D---- 2014/10/12 21:29         0          tmp 
/// \end{DoxyVerb}
 \begin{DoxyVerb}@param[in] : FILINFO pointer
@return  void  \end{DoxyVerb}
 
\end{DoxyItemize}

Definition at line 366 of file disk.\+c.



Referenced by fatfs\+\_\+ls(), and fatfs\+\_\+stat().

\index{disk.\+c@{disk.\+c}!fatfs\+\_\+free\+\_\+filinfo@{fatfs\+\_\+free\+\_\+filinfo}}
\index{fatfs\+\_\+free\+\_\+filinfo@{fatfs\+\_\+free\+\_\+filinfo}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{fatfs\+\_\+free\+\_\+filinfo(\+F\+I\+L\+I\+N\+F\+O $\ast$finfo)}{fatfs_free_filinfo(FILINFO *finfo)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} void fatfs\+\_\+free\+\_\+filinfo (
\begin{DoxyParamCaption}
\item[{{\bf F\+I\+L\+I\+N\+FO} $\ast$}]{finfo}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_a953a1accb59a09bcedf7bda2758ba433}{}\label{disk_8c_a953a1accb59a09bcedf7bda2758ba433}


Free a \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure and optional long file name buffer allocated by \hyperlink{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{fatfs\+\_\+alloc\+\_\+finfo()} 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em finfo} & Fat\+Fs \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} pointer to free \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{fatfs\+\_\+alloc\+\_\+finfo()} 

\hyperlink{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{fatfs\+\_\+scan\+\_\+files()} 

\hyperlink{fatfs__utils_8c_a257bdc077fb2c1a5aeeb5c1f3c1c2157}{fatfs\+\_\+ls()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 220 of file disk.\+c.

\index{disk.\+c@{disk.\+c}!fatfs\+\_\+scan\+\_\+files@{fatfs\+\_\+scan\+\_\+files}}
\index{fatfs\+\_\+scan\+\_\+files@{fatfs\+\_\+scan\+\_\+files}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{fatfs\+\_\+scan\+\_\+files(char $\ast$path)}{fatfs_scan_files(char *path)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} int fatfs\+\_\+scan\+\_\+files (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{path}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{}\label{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}


Compute space used, number of directories and files contained under a specified directory. 


\begin{DoxyItemize}
\item Credit\+: part of Fat\+Fs avr example project (C)ChaN, 2013
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{ff_8c_aeb607fa4b05d127d971ff40f143bac66}{f\+\_\+opendir()} 

\hyperlink{ff_8c_ae9647e339708c3d803db8de141986d96}{f\+\_\+readdir()} 

\hyperlink{disk_8c_a4fb5ebb5ee82d1ddf3fdcf88329dd5d3}{Acc\+Dirs}\+: Total number of directories 

\hyperlink{disk_8c_a8886578bc67fc71837328a1ee237d10c}{Acc\+Files}\+: Total number of Files 

\hyperlink{disk_8c_a1e9c5ddcfdf89c9a42c96ee1d2196876}{Acc\+Size}\+: Total size of all files 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
0 if no error 

Faf\+Fs error code 
\end{DoxyReturn}


Definition at line 249 of file disk.\+c.



Referenced by fatfs\+\_\+scan\+\_\+files(), and fatfs\+\_\+status().

\index{disk.\+c@{disk.\+c}!fatfs\+\_\+status@{fatfs\+\_\+status}}
\index{fatfs\+\_\+status@{fatfs\+\_\+status}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{fatfs\+\_\+status(char $\ast$ptr)}{fatfs_status(char *ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} void fatfs\+\_\+status (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{ptr}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_ad7d2063fab39190a7288bfa7cb647b46}{}\label{disk_8c_ad7d2063fab39190a7288bfa7cb647b46}


Compute space used, number of directories and files contained used by a drive. 


\begin{DoxyItemize}
\item Credit\+: part of Fat\+Fs avr example project (C)ChaN, 2013
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ptr} & Drive path like \char`\"{}/\char`\"{} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{ff_8c_a72098afbbef7ff8b850bacfc721d6bd0}{f\+\_\+getfree()} drive \hyperlink{sys_8h_a0f8c52d1c359b700088f8417b48e467b}{free} space 

\hyperlink{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{fatfs\+\_\+scan\+\_\+files()} 

\hyperlink{disk_8c_a4fb5ebb5ee82d1ddf3fdcf88329dd5d3}{Acc\+Dirs}\+: Total number of directories 

\hyperlink{disk_8c_a8886578bc67fc71837328a1ee237d10c}{Acc\+Files}\+: Total number of Files 

\hyperlink{disk_8c_a1e9c5ddcfdf89c9a42c96ee1d2196876}{Acc\+Size}\+: Total size of all files 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 314 of file disk.\+c.



Referenced by fatfs\+\_\+tests(), mmc\+\_\+init(), and mmc\+\_\+test().

\index{disk.\+c@{disk.\+c}!get\+\_\+fattime@{get\+\_\+fattime}}
\index{get\+\_\+fattime@{get\+\_\+fattime}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{get\+\_\+fattime(void)}{get_fattime(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} {\bf D\+W\+O\+RD} get\+\_\+fattime (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_ae0f1746ad69d0d4b90cba250c6774ca8}{}\label{disk_8c_ae0f1746ad69d0d4b90cba250c6774ca8}


Read D\+S1307 R\+TC and convert to F\+A\+T32 time. 

\begin{DoxyReturn}{Returns}
F\+A\+T32 time. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{disk_8c_ae7b9417320aaaa1c1dfb229cad6669d8}{tm\+\_\+to\+\_\+fat()}. 
\end{DoxySeeAlso}


Definition at line 119 of file disk.\+c.



Referenced by f\+\_\+mkdir(), f\+\_\+mkfs(), f\+\_\+open(), f\+\_\+setlabel(), and f\+\_\+sync().

\index{disk.\+c@{disk.\+c}!put\+\_\+rc@{put\+\_\+rc}}
\index{put\+\_\+rc@{put\+\_\+rc}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{put\+\_\+rc(int rc)}{put_rc(int rc)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} void put\+\_\+rc (
\begin{DoxyParamCaption}
\item[{int}]{rc}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_ab3509aecf1844c84f1797e5b567d531c}{}\label{disk_8c_ab3509aecf1844c84f1797e5b567d531c}


display Fat\+Fs return code as ascii string 

Credit\+: Part of Fat\+Fs avr example project (C)ChaN, 2013 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em rc} & Fat\+Fs status return code \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 134 of file disk.\+c.



Referenced by fatfs\+\_\+cat(), fatfs\+\_\+cd(), fatfs\+\_\+copy(), fatfs\+\_\+create(), fatfs\+\_\+ls(), fatfs\+\_\+mkdir(), fatfs\+\_\+pwd(), fatfs\+\_\+rename(), fatfs\+\_\+rm(), fatfs\+\_\+rmdir(), fatfs\+\_\+stat(), fatfs\+\_\+status(), fatfs\+\_\+tests(), and mmc\+\_\+init().

\index{disk.\+c@{disk.\+c}!tm\+\_\+to\+\_\+fat@{tm\+\_\+to\+\_\+fat}}
\index{tm\+\_\+to\+\_\+fat@{tm\+\_\+to\+\_\+fat}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{tm\+\_\+to\+\_\+fat(tm\+\_\+t $\ast$t)}{tm_to_fat(tm_t *t)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+E\+M\+S\+P\+A\+CE} {\bf uint32\+\_\+t} tm\+\_\+to\+\_\+fat (
\begin{DoxyParamCaption}
\item[{{\bf tm\+\_\+t} $\ast$}]{t}
\end{DoxyParamCaption}
)}\hypertarget{disk_8c_ae7b9417320aaaa1c1dfb229cad6669d8}{}\label{disk_8c_ae7b9417320aaaa1c1dfb229cad6669d8}


F\+AT time structer reference. 

\begin{DoxySeeAlso}{See also}
rtc.\+h 

\href{http://lxr.free-electrons.com/source/fs/fat/misc.c}{\tt http\+://lxr.\+free-\/electrons.\+com/source/fs/fat/misc.\+c} \begin{DoxyVerb}/// typedef struct
/// {
///     WORD   year;                                  /* 2000..2099 */
///     BYTE   month;                                 /* 1..12 */
///     BYTE   mday;                                  /* 1.. 31 */
///     BYTE   wday;                                  /* 1..7 */
///     BYTE   hour;                                  /* 0..23 */
///     BYTE   min;                                   /* 0..59 */
///     BYTE   sec;                                   /* 0..59 */
/// } RTC;
/// \end{DoxyVerb}
 Convert Linux \hyperlink{posix_8h_a1c3d85ae80df5590fa314acffd8bf840}{P\+O\+S\+IX} \hyperlink{time_8h_a2fea857c30e2c901566fcf45fac68ac5}{tm\+\_\+t} $\ast$ to F\+A\+T32 \hyperlink{time_8h_a32b1cbd925752f0cd61d202bbe204a69}{time}.
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em t} & P\+O\+S\+IX struct tm $\ast$ to convert.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
F\+A\+T32 time. 
\end{DoxyReturn}


Definition at line 102 of file disk.\+c.



Referenced by get\+\_\+fattime().



\subsection{Variable Documentation}
\index{disk.\+c@{disk.\+c}!\+\_\+\+\_\+finfo@{\+\_\+\+\_\+finfo}}
\index{\+\_\+\+\_\+finfo@{\+\_\+\+\_\+finfo}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+finfo}{__finfo}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\+I\+L\+I\+N\+FO} \+\_\+\+\_\+finfo\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{disk_8c_a8483e9060691e7d2b6eb51ab947ab1a6}{}\label{disk_8c_a8483e9060691e7d2b6eb51ab947ab1a6}


Use were \hyperlink{structFILINFO}{F\+I\+L\+I\+N\+FO} structure can be share in many functions See\+: \hyperlink{disk_8c_a2aa2a2ec84f17f64a69196c9717fc3f4}{fatfs\+\_\+alloc\+\_\+finfo()}, \hyperlink{disk_8c_a2bfd82a70117cdb8941b6b0a2c069dbd}{fatfs\+\_\+scan\+\_\+files()} and \hyperlink{fatfs__utils_8c_a257bdc077fb2c1a5aeeb5c1f3c1c2157}{fatfs\+\_\+ls()} 



Definition at line 154 of file disk.\+c.

\index{disk.\+c@{disk.\+c}!\+\_\+\+\_\+lfname@{\+\_\+\+\_\+lfname}}
\index{\+\_\+\+\_\+lfname@{\+\_\+\+\_\+lfname}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+lfname}{__lfname}}]{\setlength{\rightskip}{0pt plus 5cm}char \+\_\+\+\_\+lfname\mbox{[}{\bf \+\_\+\+M\+A\+X\+\_\+\+L\+FN}+1\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{disk_8c_aa16b6036e08026363b2b740e3d067f9e}{}\label{disk_8c_aa16b6036e08026363b2b740e3d067f9e}


Definition at line 157 of file disk.\+c.



Referenced by fatfs\+\_\+alloc\+\_\+finfo(), and fatfs\+\_\+free\+\_\+filinfo().

\index{disk.\+c@{disk.\+c}!Acc\+Dirs@{Acc\+Dirs}}
\index{Acc\+Dirs@{Acc\+Dirs}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{Acc\+Dirs}{AccDirs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+O\+RD} Acc\+Dirs}\hypertarget{disk_8c_a4fb5ebb5ee82d1ddf3fdcf88329dd5d3}{}\label{disk_8c_a4fb5ebb5ee82d1ddf3fdcf88329dd5d3}


Definition at line 150 of file disk.\+c.



Referenced by fatfs\+\_\+scan\+\_\+files(), and fatfs\+\_\+status().

\index{disk.\+c@{disk.\+c}!Acc\+Files@{Acc\+Files}}
\index{Acc\+Files@{Acc\+Files}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{Acc\+Files}{AccFiles}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+O\+RD} Acc\+Files}\hypertarget{disk_8c_a8886578bc67fc71837328a1ee237d10c}{}\label{disk_8c_a8886578bc67fc71837328a1ee237d10c}


Total number or Files and Directories. 



Definition at line 150 of file disk.\+c.



Referenced by fatfs\+\_\+scan\+\_\+files(), and fatfs\+\_\+status().

\index{disk.\+c@{disk.\+c}!Acc\+Size@{Acc\+Size}}
\index{Acc\+Size@{Acc\+Size}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{Acc\+Size}{AccSize}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+W\+O\+RD} Acc\+Size}\hypertarget{disk_8c_a1e9c5ddcfdf89c9a42c96ee1d2196876}{}\label{disk_8c_a1e9c5ddcfdf89c9a42c96ee1d2196876}


Total file space used. 



Definition at line 147 of file disk.\+c.



Referenced by fatfs\+\_\+scan\+\_\+files(), and fatfs\+\_\+status().

\index{disk.\+c@{disk.\+c}!err\+\_\+msg@{err\+\_\+msg}}
\index{err\+\_\+msg@{err\+\_\+msg}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{err\+\_\+msg}{err_msg}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ err\+\_\+msg\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{disk_8c_a259efda6b8ac3181431ef38fa99d214c}{}\label{disk_8c_a259efda6b8ac3181431ef38fa99d214c}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \textcolor{stringliteral}{"OK"},
    \textcolor{stringliteral}{"DISK\_ERR"},
    \textcolor{stringliteral}{"INT\_ERR"},
    \textcolor{stringliteral}{"NOT\_READY"},
    \textcolor{stringliteral}{"NO\_FILE"},
    \textcolor{stringliteral}{"NO\_PATH"},
    \textcolor{stringliteral}{"INVALID\_NAME"},
    \textcolor{stringliteral}{"DENIED"},
    \textcolor{stringliteral}{"EXIST"},
    \textcolor{stringliteral}{"INVALID\_OBJECT"},
    \textcolor{stringliteral}{"WRITE\_PROTECTED"},
    \textcolor{stringliteral}{"INVALID\_DRIVE"},
    \textcolor{stringliteral}{"NOT\_ENABLED"},
    \textcolor{stringliteral}{"NO\_FILE\_SYSTEM"},
    \textcolor{stringliteral}{"MKFS\_ABORTED"},
    \textcolor{stringliteral}{"TIMEOUT"},
    \textcolor{stringliteral}{"LOCKED"},
    \textcolor{stringliteral}{"NOT\_ENOUGH\_CORE"},
    \textcolor{stringliteral}{"TOO\_MANY\_OPEN\_FILES"},
    \textcolor{stringliteral}{"INVALID\_PARAMETER"},
    NULL
\}
\end{DoxyCode}


Fat\+Fs Error Messages. 


\begin{DoxyItemize}
\item Credit\+: part of Fat\+Fs avr example project (C)ChaN, 2013 
\end{DoxyItemize}

Definition at line 53 of file disk.\+c.



Referenced by put\+\_\+rc().

\index{disk.\+c@{disk.\+c}!Fatfs@{Fatfs}}
\index{Fatfs@{Fatfs}!disk.\+c@{disk.\+c}}
\subsubsection[{\texorpdfstring{Fatfs}{Fatfs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\+A\+T\+FS} Fatfs\mbox{[}{\bf \+\_\+\+V\+O\+L\+U\+M\+ES}\mbox{]}}\hypertarget{disk_8c_aae427cc909a4b5993032934d85fd8c31}{}\label{disk_8c_aae427cc909a4b5993032934d85fd8c31}


Fat\+Fs Drive Volumes. 



Definition at line 34 of file disk.\+c.



Referenced by mmc\+\_\+init().

